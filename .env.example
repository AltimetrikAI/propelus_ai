# Propelus AI Taxonomy Framework - TypeScript Environment Configuration
# Copy this file to .env and update with your actual values

# =============================================================================
# Database Configuration
# =============================================================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=propelus_taxonomy
DB_USER=propelus_admin
DB_PASSWORD=dev_password
DB_LOGGING=false
DB_SSL=false

# Connection pool settings
DB_POOL_SIZE=20
DB_IDLE_TIMEOUT_MS=30000
DB_CONNECTION_TIMEOUT_MS=2000

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=dev_redis_password
REDIS_POOL_SIZE=10
REDIS_TIMEOUT=5000

# =============================================================================
# AWS Configuration
# =============================================================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your_access_key_id
AWS_SECRET_ACCESS_KEY=your_secret_access_key

# S3 Buckets
S3_BUCKET=propelus-taxonomy-data-dev
S3_BRONZE_BUCKET=propelus-taxonomy-bronze-dev
S3_SILVER_BUCKET=propelus-taxonomy-silver-dev
S3_GOLD_BUCKET=propelus-taxonomy-gold-dev

# SQS Queues (full URLs)
SILVER_PROCESSING_QUEUE=https://sqs.us-east-1.amazonaws.com/123456789/silver-processing
MAPPING_RULES_QUEUE=https://sqs.us-east-1.amazonaws.com/123456789/mapping-rules
DLQ_URL=https://sqs.us-east-1.amazonaws.com/123456789/dlq

# Lambda Functions
BRONZE_INGESTION_LAMBDA=bronze-ingestion
SILVER_PROCESSING_LAMBDA=silver-processing
MAPPING_RULES_LAMBDA=mapping-rules
TRANSLATION_LAMBDA=translation

# =============================================================================
# AWS Bedrock Configuration (AI/ML)
# =============================================================================
BEDROCK_REGION=us-east-1
BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0
BEDROCK_MAX_TOKENS=4096
BEDROCK_TEMPERATURE=0.1

# =============================================================================
# Application Configuration
# =============================================================================
NODE_ENV=development
PROJECT_NAME=propelus-taxonomy
VERSION=1.0.0

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_DEBUG_LOGGING=false

# =============================================================================
# API Service Configuration
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_BASE_PATH=/api/v1

# CORS settings
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true

# Rate limiting
API_RATE_LIMIT=1000
API_RATE_WINDOW_MS=60000

# =============================================================================
# Admin UI Configuration
# =============================================================================
ADMIN_UI_PORT=3000
NEXT_PUBLIC_API_URL=http://localhost:8000/api/v1

# Authentication
JWT_SECRET=your_jwt_secret_key_change_me
JWT_EXPIRES_IN=24h
SESSION_SECRET=your_session_secret_change_me

# =============================================================================
# Processing Configuration
# =============================================================================

# Confidence thresholds
AUTO_APPROVAL_THRESHOLD=90
HUMAN_REVIEW_THRESHOLD=70
REJECTION_THRESHOLD=60

# Processing limits
MAX_BATCH_SIZE=1000
MAX_PROCESSING_TIME_MS=1800000
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_MS=60000

# Translation caching
ENABLE_TRANSLATION_CACHING=true
TRANSLATION_CACHE_TTL_SECONDS=3600

# AI/ML settings
ENABLE_AI_MAPPING=true
SEMANTIC_SIMILARITY_THRESHOLD=0.8

# =============================================================================
# Monitoring & Observability
# =============================================================================

# CloudWatch
CLOUDWATCH_LOG_GROUP=/aws/lambda/propelus-taxonomy
CLOUDWATCH_LOG_RETENTION_DAYS=30

# Metrics
ENABLE_CUSTOM_METRICS=true
METRICS_NAMESPACE=PropellusTaxonomy

# Health checks
HEALTH_CHECK_INTERVAL_MS=30000

# =============================================================================
# Security Configuration
# =============================================================================

# Encryption
ENCRYPTION_KEY=your_32_character_encryption_key
ENABLE_FIELD_ENCRYPTION=true

# API Security
API_KEY_REQUIRED=false
API_KEY_HEADER=X-API-Key

# HIPAA Compliance
ENABLE_AUDIT_LOGGING=true
AUDIT_LOG_RETENTION_DAYS=2555
ENABLE_DATA_MASKING=true

# =============================================================================
# Feature Flags
# =============================================================================
ENABLE_DATA_LINEAGE=true
ENABLE_MASTER_TAXONOMY_VERSIONING=true
ENABLE_BULK_OPERATIONS=true
ENABLE_ASYNC_PROCESSING=true
ENABLE_CONTEXT_RULES=true

# =============================================================================
# Development Settings
# =============================================================================
DEV_CREATE_TEST_DATA=false
DEV_ENABLE_DEBUG_ENDPOINTS=false
DEV_BYPASS_AUTHENTICATION=false

# Test database
TEST_DB_NAME=propelus_taxonomy_test

# =============================================================================
# Performance Tuning
# =============================================================================

# Lambda configuration
LAMBDA_MEMORY_SIZE=1024
LAMBDA_TIMEOUT=900
LAMBDA_RESERVED_CONCURRENCY=100

# =============================================================================
# Integration Settings
# =============================================================================

# Webhook endpoints
MAPPING_COMPLETION_WEBHOOK_URL=https://your-domain.com/webhooks/mapping-complete
REVIEW_REQUIRED_WEBHOOK_URL=https://your-domain.com/webhooks/review-required
